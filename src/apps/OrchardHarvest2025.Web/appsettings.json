{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Elsa": "Debug",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.AspNetCore.Authentication": "Information"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Warning",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "Microsoft.AspNetCore.Authentication": "Information",
        "Microsoft.AspNetCore.Routing": "Warning",
        "Microsoft.AspNetCore.Mvc.Razor.Compilation": "Warning",
        "OrchardCore": "Warning",
        "Elsa": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "App_Data/log/orchard.log",
          "rollingInterval": "Day",
          "buffered": true
        }
      }
    ]
  },
  "AllowedHosts": "*",
  "Elsa": {
    "Identity": {
      "Tokens": {
        "SigningKey": "secret-signing-key",
        "AccessTokenLifetime": "1:00:00:00",
        "RefreshTokenLifetime": "1:00:10:00"
      }
    },
    "OpenAI": {
      "ApiKey": "sk-1234567890"
    },
    "GoogleSearch": {
      "ApiKey": "AIzaSyD***************",
      "SearchEngineId": "863f3cc8432fa4bb5"
    }
  },
  "OrchardCore": {
    "Default": {
      "Elsa": {
        "Http": {
          "BasePath": "/wf",
          "BaseUrl": "https://localhost:9095"
        },
        "OpenAI": {
          "ApiKey": ""
        },
        "GoogleSearch": {
          "ApiKey": "",
          "SearchEngineId": ""
        },
        "Agents": {
          "ApiKeys": [
            {
              "Name": "OpenAI",
              "Value": "sk-1234567890"
            }
          ],
          "Services": [
            {
              "Name": "ChatCompletion",
              "Type": "OpenAIChatCompletion",
              "Settings": {
                "ModelId": "gpt-4o",
                "ApiKeyRef": "OpenAI"
              }
            }
          ],
          "Agents": [
            {
              "Name": "Poet",
              "Description": "A poet agent that writes poems. Sample output JSON: {\"text\":\"A poem about cats.\"}",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "WritePoem",
              "PromptTemplate": "Write a poem about {{$Category}}. Return your response as JSON in this exact format: {\"text\": \"your poem here\"}",
              "InputVariables": [
                {
                  "Name": "Category",
                  "Description": "The category of the poem.",
                  "Type": "string"
                }
              ],
              "OutputVariable": {
                "Description": "The generated poem.",
                "Type": "string"
              },
              "ExecutionSettings": {
                "Temperature": 0.7,
                "MaxTokens": 1000,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            },
            {
              "Name": "Proofreader",
              "Description": "Proofreads only human-language fields in an object and returns the corrected result, correctionsCount, and diff.",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "ProofreadContent",
              "PromptTemplate": "You are a professional proofreader. You will receive a JSON object. Your job is to correct only fields that contain human natural language (e.g., titles, subtitles, summaries, body text). Do NOT change technical fields such as IDs, GUIDs, dates/timestamps, booleans, numbers, slugs, paths, or configuration flags.\n\nProcedure:\n1) Use json_human_fields to get a list of JSON Pointer paths in the input that likely contain human text.\n2) Create a corrected object by applying spelling/grammar/punctuation/clarity improvements ONLY to those fields (leave all other fields untouched). Preserve EXACT structure and property names.\n3) Use json_diff to compute a JSON Patch-like diff between the original input and the corrected object.\n4) Set correctionsCount to diff.length.\n\nInput object (JSON):\n```json\n{{$Content}}\n```\n\nReturn JSON with this exact shape:\n{\n  \"result\": <the corrected object>,\n  \"correctionsCount\": <integer equal to diff.length>,\n  \"diff\": [ { \"op\": \"replace\", \"path\": \"/TitlePart/Title\", \"from\": \"Electrictiy...\", \"to\": \"Electricity...\" } ]\n}\n\nDiff format: entries contain op (replace|add|remove), path (JSON Pointer), and from/to as applicable.\nIf there is a problem with the input, return one diff entry with op=error and a reason field.",
              "InputVariables": [
                {
                  "Name": "Content",
                  "Description": "A JSON object with arbitrary structure.",
                  "Type": "object"
                }
              ],
              "OutputVariable": {
                "Description": "An object with: result (corrected object), correctionsCount, diff.",
                "Type": "object"
              },
              "Plugins": [
                "JsonHumanFieldDetector",
                "JsonDiff"
              ],
              "ExecutionSettings": {
                "Temperature": 0.2,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            },
            {
              "Name": "LatestNewsReporter",
              "Description": "Finds and summarizes latest news on a topic. Sample output JSON: {\"summary\":\"Recent developments...\",\"sources\":[\"url1\",\"url2\"]}",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "GetLatestNews",
              "PromptTemplate": "Search for and summarize the latest news about {{$Topic}}. Include key points and sources.\n\nReturn your response as JSON in this exact format: {\"summary\": \"brief summary of the news\", \"keyPoints\": [\"point 1\", \"point 2\"], \"sources\": [\"url1\", \"url2\"]}",
              "InputVariables": [
                {
                  "Name": "Topic",
                  "Description": "The topic to search news for.",
                  "Type": "string"
                }
              ],
              "OutputVariable": {
                "Description": "A summary of latest news with sources.",
                "Type": "object"
              },
              "Plugins": [
                "WebSearch"
              ],
              "ExecutionSettings": {
                "Temperature": 0.5,
                "MaxTokens": 1500,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            },
            {
              "Name": "SentimentAnalyzer",
              "Description": "Analyzes sentiment of text. Sample output JSON: {\"sentiment\":\"positive\",\"score\":0.85,\"emotions\":[\"joy\",\"excitement\"],\"confidence\":0.92}",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "AnalyzeSentiment",
              "PromptTemplate": "Analyze the sentiment of the following text and provide a detailed breakdown: {{$Text}}\n\nReturn your response as JSON in this exact format: {\"sentiment\": \"positive\", \"score\": 0.85, \"emotions\": [\"joy\", \"excitement\"], \"confidence\": 0.92}",
              "InputVariables": [
                {
                  "Name": "Text",
                  "Description": "The text to analyze for sentiment.",
                  "Type": "string"
                }
              ],
              "OutputVariable": {
                "Description": "Sentiment analysis results including sentiment type, score, emotions, and confidence.",
                "Type": "object"
              },
              "ExecutionSettings": {
                "Temperature": 0.2,
                "MaxTokens": 1000,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            },
            {
              "Name": "CodeExplainer",
              "Description": "Explains code in plain language. Sample output JSON: {\"explanation\":\"This function...\",\"keyPoints\":[\"point1\",\"point2\"],\"complexity\":\"moderate\"}",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "ExplainCode",
              "PromptTemplate": "Explain the following code in plain language, including what it does, key concepts, and complexity level: {{$Code}}\n\nReturn your response as JSON in this exact format: {\"explanation\": \"This function does...\", \"keyPoints\": [\"point 1\", \"point 2\"], \"complexity\": \"moderate\"}",
              "InputVariables": [
                {
                  "Name": "Code",
                  "Description": "The code snippet to explain.",
                  "Type": "string"
                }
              ],
              "OutputVariable": {
                "Description": "A plain language explanation of the code with key points and complexity assessment.",
                "Type": "object"
              },
              "ExecutionSettings": {
                "Temperature": 0.4,
                "MaxTokens": 1500,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            },
            {
              "Name": "RecipeGenerator",
              "Description": "Generates recipes from ingredients. Sample output JSON: {\"title\":\"Chicken Stir-Fry\",\"ingredients\":[],\"instructions\":[],\"prepTime\":\"15 mins\",\"difficulty\":\"easy\"}",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "GenerateRecipe",
              "PromptTemplate": "Create a recipe using these ingredients: {{$Ingredients}}. Include title, full ingredient list with quantities, step-by-step instructions, prep time, and difficulty level.\n\nReturn your response as JSON in this exact format: {\"title\": \"Recipe Name\", \"ingredients\": [\"ingredient 1\", \"ingredient 2\"], \"instructions\": [\"step 1\", \"step 2\"], \"prepTime\": \"15 mins\", \"difficulty\": \"easy\"}",
              "InputVariables": [
                {
                  "Name": "Ingredients",
                  "Description": "Comma-separated list of available ingredients.",
                  "Type": "string"
                }
              ],
              "OutputVariable": {
                "Description": "A complete recipe with title, ingredients, instructions, prep time, and difficulty.",
                "Type": "object"
              },
              "ExecutionSettings": {
                "Temperature": 0.8,
                "MaxTokens": 2000,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            },
            {
              "Name": "BlogSubtitleGenerator",
              "Description": "Generates a concise, descriptive blog post subheading (subtitle) from the provided content. Returns JSON: {\"Subtitle\":\"...\"}",
              "Services": [
                "ChatCompletion"
              ],
              "FunctionName": "GenerateBlogSubtitle",
              "PromptTemplate": "You will be given blog post content. Write a concise, descriptive subheading (subtitle) that complements a main title and accurately reflects the content. Aim for 8â€“16 words, use sentence case (capitalize proper nouns), avoid clickbait, avoid trailing punctuation, and don't add quotes.\n\nContent:\n{{$Content}}\n\nReturn JSON in this exact format: {\"Subtitle\": \"generated subheading\"}",
              "InputVariables": [
                {
                  "Name": "Content",
                  "Description": "The blog post content to derive the subheading from.",
                  "Type": "string"
                }
              ],
              "OutputVariable": {
                "Description": "A JSON object containing a single field Subtitle with the generated subheading.",
                "Type": "object"
              },
              "ExecutionSettings": {
                "Temperature": 0.7,
                "MaxTokens": 120,
                "TopP": 1,
                "FrequencyPenalty": 0,
                "PresencePenalty": 0,
                "ResponseFormat": "json_object"
              }
            }
          ]
        }
      }
    },
    "Acme": {
      "Elsa": {
        "Http": {
          "BasePath": "/wf",
          "BaseUrl": "https://localhost:9095/acme"
        }
      }
    }
  }
}
